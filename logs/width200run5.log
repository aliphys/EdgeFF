MNIST_One_Pass
layers (hidden depth): 3
[784, 200, 200, 200]
Configuration:
  Selected classes: None
  Filter by layer: None
  Target layer: 2
  Correct only: False
  Run specialization: True
  Run energy analysis: True
  Compare energy methods: False
  Goodness threshold: 2.0
  Confidence threshold multiplier: 1.0
  Train: False (from --train False)
Moving model to CPU for inference...
Moving data to CPU for inference...
‚úì Model and data moved to CPU for inference

Results for the [1mTRAIN[0m set: 
	F1-score:  0.9588789498148851
	Accuracy:  0.9592833333333334
	Error: 0.04071664810180664

Results for the [1mTEST[0m set: 
	F1-score:  0.9504663375019611
	Accuracy:  0.9509
	Error: 0.04909998178482056

Results for the [1mVALIDATION[0m set: 
	F1-score:  0.9571262788750626
	Accuracy:  0.9578
	Error: 0.04220002889633179
Averaged mean:  9.257943446983546
Averaged std:  2.877170708247257
Averaged mean_all_incorrect_labels:  -9.633476473243272
Averaged std_all_incorrect_labels:  5.4154912181985875
Averaged mean:  14.04577972015446
Averaged std:  4.186421415054381
Averaged mean_all_incorrect_labels:  -17.406190415291476
Averaged std_all_incorrect_labels:  8.569462377679733
Averaged mean:  22.518901098584493
Averaged std:  6.383685610917358
Averaged mean_all_incorrect_labels:  -20.353044817382653
Averaged std_all_incorrect_labels:  11.79751948348598

Results for the [1mVALIDATION[0m set based on light inference: 
	F1-score:  0.9507848313171074
	Accuracy:  0.9512
	Error: 0.048799991607666016
mean number of layers used:  1.4203
percentage for layers_up_to  [1. 2. 3.]  :  [0.7439 0.0919 0.1642]

--- Fixed Layer Evaluation ---
Layer 0 only - Accuracy: 0.9530
Layer 1 only - Accuracy: 0.9544
Layer 2 only - Accuracy: 0.9509

--- Starting Layer Specialization Analysis ---

======================================================================
    LAYER PERFORMANCE DEGRADATION ANALYSIS
======================================================================

1. INDIVIDUAL LAYER PERFORMANCE:
----------------------------------------
   Layer 0 only: 0.9530 (95.3%)
   Layer 1 only: 0.9544 (95.4%)
   Layer 2 only: 0.9509 (95.1%)

   Performance differences:
   Layer 1 vs Layer 0: +0.0014 (+0.1%)
   Layer 2 vs Layer 1: -0.0035 (-0.4%)

2. LAYER REPRESENTATION ANALYSIS:
----------------------------------------

   Layer 0 (200 neurons):
     Activation mean:   0.3278
     Activation std:    0.7887
     Sparsity (% zeros):  78.6%
     Saturation (>5.0):    0.1%
     Value range:       9.1597
     Goodness mean:     0.7295
     Goodness std:      0.3314
     Goodness range:    1.8280

   Layer 1 (200 neurons):
     Activation mean:   0.2085
     Activation std:    1.4878
     Sparsity (% zeros):  93.9%
     Saturation (>5.0):    1.9%
     Value range:      22.3224
     Goodness mean:     2.2570
     Goodness std:      1.6068
     Goodness range:    5.7508

   Layer 2 (200 neurons):
     Activation mean:   0.4475
     Activation std:    1.4651
     Sparsity (% zeros):  83.5%
     Saturation (>5.0):    2.9%
     Value range:      20.8406
     Goodness mean:     2.3468
     Goodness std:      1.0841
     Goodness range:    3.7315

3. CLASS DISCRIMINATION ANALYSIS:
----------------------------------------

   Layer 0 class separation:
     Class 0: goodness = 0.8574
     Class 1: goodness = 0.6474
     Class 2: goodness = 0.7543
     Class 3: goodness = 0.7395
     Class 4: goodness = 0.6820
     Class 5: goodness = 0.8341
     Class 6: goodness = 0.7700
     Class 7: goodness = 0.7210
     Class 8: goodness = 0.7749
     Class 9: goodness = 0.5915
     Separation std:   0.0770
     Separation range: 0.2659

   Layer 1 class separation:
     Class 0: goodness = 2.2358
     Class 1: goodness = 4.3940
     Class 2: goodness = 1.3124
     Class 3: goodness = 1.5788
     Class 4: goodness = 2.0181
     Class 5: goodness = 1.8688
     Class 6: goodness = 2.2243
     Class 7: goodness = 2.5258
     Class 8: goodness = 1.4787
     Class 9: goodness = 2.1109
     Separation std:   0.8222
     Separation range: 3.0817

   Layer 2 class separation:
     Class 0: goodness = 2.5027
     Class 1: goodness = 3.1765
     Class 2: goodness = 1.8522
     Class 3: goodness = 2.1466
     Class 4: goodness = 2.2768
     Class 5: goodness = 2.2578
     Class 6: goodness = 2.0977
     Class 7: goodness = 2.4641
     Class 8: goodness = 1.9552
     Class 9: goodness = 2.4028
     Separation std:   0.3509
     Separation range: 1.3242

4. INFORMATION BOTTLENECK ANALYSIS:
----------------------------------------
   Input entropy: 4.0212
   Layer 0 entropy: 4.8020 (compression: 0.84x)
   Layer 1 entropy: 3.3919 (compression: 1.19x)
   Layer 2 entropy: 2.8138 (compression: 1.43x)

5. LEARNING EFFICIENCY ANALYSIS:
----------------------------------------
   Why deeper layers may not help in Forward-Forward:
   ‚Ä¢ Each layer learns independently (no gradient flow)
   ‚Ä¢ Information bottleneck: 784 ‚Üí 100 neurons
   ‚Ä¢ Goodness function may not scale well with depth
   ‚Ä¢ Local optima: each layer optimizes separately

6. OPTIMIZATION RECOMMENDATIONS:
----------------------------------------
   ‚ö†Ô∏è  High sparsity detected - consider wider layers

   Suggested improvements:
   1. Increase layer width: [784, 400, 300, 200] instead of [784, 100, 100, 100]
   2. Try alternative goodness functions (top-k, entropy-based)
   3. Consider skip connections or hierarchical training
   4. Experiment with different activation functions
   5. Use progressive layer training (freeze earlier layers)

======================================================================

--- Running Layer Specialization Analysis ---
Analyzing layer 0...
  Layer 0, Class 0: 0.9857
  Layer 0, Class 1: 0.9833
  Layer 0, Class 2: 0.9651
  Layer 0, Class 3: 0.9188
  Layer 0, Class 4: 0.9420
  Layer 0, Class 5: 0.9518
  Layer 0, Class 6: 0.9593
  Layer 0, Class 7: 0.9377
  Layer 0, Class 8: 0.9548
  Layer 0, Class 9: 0.9286
Analyzing layer 1...
  Layer 1, Class 0: 0.9878
  Layer 1, Class 1: 0.9833
  Layer 1, Class 2: 0.9661
  Layer 1, Class 3: 0.9347
  Layer 1, Class 4: 0.9450
  Layer 1, Class 5: 0.9496
  Layer 1, Class 6: 0.9614
  Layer 1, Class 7: 0.9426
  Layer 1, Class 8: 0.9528
  Layer 1, Class 9: 0.9177
Analyzing layer 2...
  Layer 2, Class 0: 0.9867
  Layer 2, Class 1: 0.9833
  Layer 2, Class 2: 0.9612
  Layer 2, Class 3: 0.9396
  Layer 2, Class 4: 0.9542
  Layer 2, Class 5: 0.9406
  Layer 2, Class 6: 0.9509
  Layer 2, Class 7: 0.9377
  Layer 2, Class 8: 0.9507
  Layer 2, Class 9: 0.8999
Layer specialization matrix saved to: /home/jetson/Documents/github/EdgeFF/output/layer_specialization_matrix_20251013_171413.png

--- Specialization Analysis Results ---
Specialization Matrix (Layer x Class):
[[0.98571429 0.98325991 0.96511628 0.91881188 0.94195519 0.95179372
  0.95929019 0.93774319 0.95482546 0.92864222]
 [0.9877551  0.98325991 0.96608527 0.93465347 0.94501018 0.94955157
  0.96137787 0.942607   0.95277207 0.91774034]
 [0.98673469 0.98325991 0.96124031 0.93960396 0.95417515 0.94058296
  0.95093946 0.93774319 0.95071869 0.89990089]]

Best layer for each class:
Class 0: Layer 1 (accuracy: 0.9878)
Class 1: Layer 0 (accuracy: 0.9833)
Class 2: Layer 1 (accuracy: 0.9661)
Class 3: Layer 2 (accuracy: 0.9396)
Class 4: Layer 2 (accuracy: 0.9542)
Class 5: Layer 0 (accuracy: 0.9518)
Class 6: Layer 1 (accuracy: 0.9614)
Class 7: Layer 1 (accuracy: 0.9426)
Class 8: Layer 0 (accuracy: 0.9548)
Class 9: Layer 0 (accuracy: 0.9286)

Layer specialization scores (higher = more specialized):
Layer 0: 0.000429
Layer 1: 0.000412
Layer 2: 0.000546

--- Data Filtering Impact ---
Original data size: 10000
Filtered data size: 10000
Retention rate: 100.0%

==================================================
RUNNING ENERGY ANALYSIS
==================================================
Resetting model state...
Current multiplier: 1.0
Reset multiplier to: 1.0

======================================================================
STARTING CONFIDENCE MECHANISM DEBUGGING
======================================================================

=== Confidence Mechanism Debugging ===

Confidence Vector Statistics:
Layer 0: mean=9.257943, std=2.877171, std/mean ratio=0.310779
Layer 1: mean=14.045780, std=4.186421, std/mean ratio=0.298055
Layer 2: mean=22.518901, std=6.383686, std/mean ratio=0.283481

Threshold Analysis for Different Multipliers:
Multiplier | Layer 0 Threshold | Layer 1 Threshold | Layer 2 Threshold
---------------------------------------------------------------------------------
       3.0 |          0.626431 |          1.486515 |          3.367844

Actual Softmax Outputs Analysis (first 3 samples):

Sample 0 (true label: 7):
  Layer 0: max_softmax=0.999987, predicted_class=7
    Mult 0.1: threshold=8.970226, passes=False
    Mult 1.0: threshold=6.380773, passes=False
    Mult 2.0: threshold=3.503602, passes=False
    Mult 3.0: threshold=0.626431, passes=True
  Layer 1: max_softmax=0.999995, predicted_class=7
    Mult 0.1: threshold=13.627138, passes=False
    Mult 1.0: threshold=9.859358, passes=False
    Mult 2.0: threshold=5.672937, passes=False
    Mult 3.0: threshold=1.486515, passes=False
  Layer 2: max_softmax=1.000000, predicted_class=7
    Mult 0.1: threshold=21.880533, passes=False
    Mult 1.0: threshold=16.135215, passes=False
    Mult 2.0: threshold=9.751530, passes=False
    Mult 3.0: threshold=3.367844, passes=False

Sample 1 (true label: 2):
  Layer 0: max_softmax=0.990320, predicted_class=2
    Mult 0.1: threshold=8.970226, passes=False
    Mult 1.0: threshold=6.380773, passes=False
    Mult 2.0: threshold=3.503602, passes=False
    Mult 3.0: threshold=0.626431, passes=True
  Layer 1: max_softmax=0.999971, predicted_class=2
    Mult 0.1: threshold=13.627138, passes=False
    Mult 1.0: threshold=9.859358, passes=False
    Mult 2.0: threshold=5.672937, passes=False
    Mult 3.0: threshold=1.486515, passes=False
  Layer 2: max_softmax=0.999999, predicted_class=2
    Mult 0.1: threshold=21.880533, passes=False
    Mult 1.0: threshold=16.135215, passes=False
    Mult 2.0: threshold=9.751530, passes=False
    Mult 3.0: threshold=3.367844, passes=False

Sample 2 (true label: 1):
  Layer 0: max_softmax=0.999834, predicted_class=1
    Mult 0.1: threshold=8.970226, passes=False
    Mult 1.0: threshold=6.380773, passes=False
    Mult 2.0: threshold=3.503602, passes=False
    Mult 3.0: threshold=0.626431, passes=True
  Layer 1: max_softmax=0.998541, predicted_class=1
    Mult 0.1: threshold=13.627138, passes=False
    Mult 1.0: threshold=9.859358, passes=False
    Mult 2.0: threshold=5.672937, passes=False
    Mult 3.0: threshold=1.486515, passes=False
  Layer 2: max_softmax=0.999864, predicted_class=1
    Mult 0.1: threshold=21.880533, passes=False
    Mult 1.0: threshold=16.135215, passes=False
    Mult 2.0: threshold=9.751530, passes=False
    Mult 3.0: threshold=3.367844, passes=False
======================================================================
DEBUGGING COMPLETE - STARTING ENERGY ANALYSIS
======================================================================

--- Choosing Energy Analysis Method ---
Dataset size: 10000 samples
Analysis subset: 10000 samples (FULL TEST SET)
‚úÖ Using TWO-PHASE ENERGY ANALYSIS (recommended for larger datasets)
   Phase 1: Fast exit pattern detection
   Phase 2: Batch energy measurement by exit layer

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 0 samples (0.0%)
  Layer 2: 0 samples (0.0%)
  Layer 3: 10000 samples (100.0%)

=== Accuracy by Exit Layer ===
  Layer 3: 0.9509 (9509/10000)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

Skipping Layer 1: No samples exit at this layer

Skipping Layer 2: No samples exit at this layer

--- Measuring Layer 3 Energy (batch of 10000 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 81: samples 8000-8099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 82: samples 8100-8199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 83: samples 8200-8299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 84: samples 8300-8399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 85: samples 8400-8499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 86: samples 8500-8599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 87: samples 8600-8699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 88: samples 8700-8799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 89: samples 8800-8899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 90: samples 8900-8999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 91: samples 9000-9099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 92: samples 9100-9199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 93: samples 9200-9299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 94: samples 9300-9399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 95: samples 9400-9499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 96: samples 9500-9599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 97: samples 9600-9699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 98: samples 9700-9799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 99: samples 9800-9899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 100: samples 9900-9999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 10000
      Total energy: 156.833000 J (156833.000 mJ)
      Per-sample energy: 0.015683 J (15.683 mJ)
      Average power: 6.273 W
      Total duration: 11.938 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 156.833000 J (156833.000 mJ)
Average energy per sample: 0.015683 J (15.683 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |       0 |   0.0000 |         0.000 |     0.000 |        0.000 |      0.000 |   0.000 |  0.0000 |         0.000 |       0.000
    2 |       0 |   0.0000 |         0.000 |     0.000 |        0.000 |      0.000 |   0.000 |  0.0000 |         0.000 |       0.000
    3 |   10000 |   0.9509 |        15.683 | 156833.000 |        6.273 |      1.474 |   2.376 |  0.9509 |        15.683 |       1.194

--- Baseline Energy Analysis (multiplier = 1.0) ---
=== Energy Consumption Analysis ===
Energy Consumption Results (10000 samples):
Average energy per sample: 15.683 mJ (0.015683 J)
Energy standard deviation: 0.000 mJ (0.000000 J)
Energy range: 15.683 - 15.683 mJ

Exit Layer Distribution:
Layer 1: 0 samples (0.0%)
Layer 2: 0 samples (0.0%)
Layer 3: 10000 samples (100.0%)

Per-Layer Energy Breakdown:
Layer | Samples | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W)
-------------------------------------------------------------------------------------
    3 |   10000 |        15.683 | 156833.000 |        6.273 |      1.474 |   2.376
--- Threshold Comparison Analysis ---

=== Energy vs Accuracy Trade-off Analysis ===
Multiplier | Avg Energy (mJ) | Accuracy | Energy/Accuracy Ratio
-----------------------------------------------------------------

--- Converting to Probability Space for Proper Comparison ---
Layer 0: logit(9.258, 2.877) ‚Üí prob(0.999905, 0.028772)
Layer 1: logit(14.046, 4.186) ‚Üí prob(0.999999, 0.041864)
Layer 2: logit(22.519, 6.384) ‚Üí prob(1.000000, 0.063837)

Testing with Corrected Probability-Space Thresholds:
Multiplier | Layer 0 Thresh | Layer 1 Thresh | Layer 2 Thresh | Avg Energy | Accuracy
------------------------------------------------------------------------------------

--- Processing multiplier 0.1 ---
  Running two-phase energy analysis for multiplier 0.1...

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 7958 samples (79.6%)
  Layer 2: 702 samples (7.0%)
  Layer 3: 1340 samples (13.4%)

=== Accuracy by Exit Layer ===
  Layer 1: 0.9937 (7908/7958)
  Layer 2: 0.9587 (673/702)
  Layer 3: 0.6948 (931/1340)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

--- Measuring Layer 1 Energy (batch of 7958 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7957
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Results for Layer 1:
      Total samples: 7958
      Total energy: 127.058500 J (127058.500 mJ)
      Per-sample energy: 0.015966 J (15.966 mJ)
      Average power: 6.352 W
      Total duration: 5.427 s

--- Measuring Layer 2 Energy (batch of 702 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-701
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Results for Layer 2:
      Total samples: 702
      Total energy: 13.014000 J (13014.000 mJ)
      Per-sample energy: 0.018538 J (18.538 mJ)
      Average power: 6.513 W
      Total duration: 0.663 s

--- Measuring Layer 3 Energy (batch of 1340 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1339
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 1340
      Total energy: 22.767000 J (22767.000 mJ)
      Per-sample energy: 0.016990 J (16.990 mJ)
      Average power: 6.505 W
      Total duration: 1.600 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 162.839500 J (162839.500 mJ)
Average energy per sample: 0.016284 J (16.284 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |    7958 |   0.9937 |        15.966 | 127058.500 |        6.352 |      1.552 |   2.370 |  0.9937 |        15.966 |       0.682
    2 |     702 |   0.9587 |        18.538 | 13014.000 |        6.513 |      1.612 |   2.416 |  0.9909 |        16.175 |       0.703
    3 |    1340 |   0.6948 |        16.990 | 22767.000 |        6.505 |      1.611 |   2.416 |  0.9512 |        16.284 |       0.769
  Energy analysis complete for multiplier 0.1
  Calculating accuracy for multiplier 0.1...
       0.1 |       0.990000 |       0.990000 |       0.990000 |     16.284 |    0.951

--- Processing multiplier 0.5 ---
  Running two-phase energy analysis for multiplier 0.5...

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 8191 samples (81.9%)
  Layer 2: 694 samples (6.9%)
  Layer 3: 1115 samples (11.2%)

=== Accuracy by Exit Layer ===
  Layer 1: 0.9932 (8135/8191)
  Layer 2: 0.9308 (646/694)
  Layer 3: 0.6565 (732/1115)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

--- Measuring Layer 1 Energy (batch of 8191 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 81: samples 8000-8099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 82: samples 8100-8190
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Results for Layer 1:
      Total samples: 8191
      Total energy: 134.259000 J (134259.000 mJ)
      Per-sample energy: 0.016391 J (16.391 mJ)
      Average power: 6.549 W
      Total duration: 5.582 s

--- Measuring Layer 2 Energy (batch of 694 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-693
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Results for Layer 2:
      Total samples: 694
      Total energy: 11.518000 J (11518.000 mJ)
      Per-sample energy: 0.016597 J (16.597 mJ)
      Average power: 6.582 W
      Total duration: 0.653 s

--- Measuring Layer 3 Energy (batch of 1115 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1114
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 1115
      Total energy: 19.755250 J (19755.250 mJ)
      Per-sample energy: 0.017718 J (17.718 mJ)
      Average power: 6.585 W
      Total duration: 1.333 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 165.532250 J (165532.250 mJ)
Average energy per sample: 0.016553 J (16.553 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |    8191 |   0.9932 |        16.391 | 134259.000 |        6.549 |      1.619 |   2.416 |  0.9932 |        16.391 |       0.682
    2 |     694 |   0.9308 |        16.597 | 11518.000 |        6.582 |      1.621 |   2.416 |  0.9883 |        16.407 |       0.702
    3 |    1115 |   0.6565 |        17.718 | 19755.250 |        6.585 |      1.629 |   2.416 |  0.9513 |        16.553 |       0.757
  Energy analysis complete for multiplier 0.5
  Calculating accuracy for multiplier 0.5...
       0.5 |       0.985519 |       0.979067 |       0.968082 |     16.553 |    0.951

--- Processing multiplier 1.0 ---
  Running two-phase energy analysis for multiplier 1.0...

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 8565 samples (85.7%)
  Layer 2: 539 samples (5.4%)
  Layer 3: 896 samples (9.0%)

=== Accuracy by Exit Layer ===
  Layer 1: 0.9904 (8483/8565)
  Layer 2: 0.8924 (481/539)
  Layer 3: 0.6150 (551/896)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

--- Measuring Layer 1 Energy (batch of 8565 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 81: samples 8000-8099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 82: samples 8100-8199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 83: samples 8200-8299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 84: samples 8300-8399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 85: samples 8400-8499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 86: samples 8500-8564
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Results for Layer 1:
      Total samples: 8565
      Total energy: 141.873750 J (141873.750 mJ)
      Per-sample energy: 0.016564 J (16.564 mJ)
      Average power: 6.599 W
      Total duration: 5.971 s

--- Measuring Layer 2 Energy (batch of 539 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-538
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Results for Layer 2:
      Total samples: 539
      Total energy: 9.929000 J (9929.000 mJ)
      Per-sample energy: 0.018421 J (18.421 mJ)
      Average power: 6.619 W
      Total duration: 0.533 s

--- Measuring Layer 3 Energy (batch of 896 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-895
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 896
      Total energy: 14.898500 J (14898.500 mJ)
      Per-sample energy: 0.016628 J (16.628 mJ)
      Average power: 6.622 W
      Total duration: 1.104 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 166.701250 J (166701.250 mJ)
Average energy per sample: 0.016670 J (16.670 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |    8565 |   0.9904 |        16.564 | 141873.750 |        6.599 |      1.632 |   2.419 |  0.9904 |        16.564 |       0.697
    2 |     539 |   0.8924 |        18.421 |  9929.000 |        6.619 |      1.638 |   2.423 |  0.9846 |        16.674 |       0.714
    3 |     896 |   0.6150 |        16.628 | 14898.500 |        6.622 |      1.654 |   2.420 |  0.9515 |        16.670 |       0.761
  Energy analysis complete for multiplier 1.0
  Calculating accuracy for multiplier 1.0...
       1.0 |       0.971133 |       0.958135 |       0.936163 |     16.670 |    0.952

--- Processing multiplier 1.5 ---
  Running two-phase energy analysis for multiplier 1.5...

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 8781 samples (87.8%)
  Layer 2: 455 samples (4.5%)
  Layer 3: 764 samples (7.6%)

=== Accuracy by Exit Layer ===
  Layer 1: 0.9887 (8682/8781)
  Layer 2: 0.8418 (383/455)
  Layer 3: 0.5903 (451/764)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

--- Measuring Layer 1 Energy (batch of 8781 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 81: samples 8000-8099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 82: samples 8100-8199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 83: samples 8200-8299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 84: samples 8300-8399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 85: samples 8400-8499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 86: samples 8500-8599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 87: samples 8600-8699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 88: samples 8700-8780
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Results for Layer 1:
      Total samples: 8781
      Total energy: 145.734250 J (145734.250 mJ)
      Per-sample energy: 0.016597 J (16.597 mJ)
      Average power: 6.624 W
      Total duration: 6.688 s

--- Measuring Layer 2 Energy (batch of 455 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-454
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Results for Layer 2:
      Total samples: 455
      Total energy: 8.332000 J (8332.000 mJ)
      Per-sample energy: 0.018312 J (18.312 mJ)
      Average power: 6.670 W
      Total duration: 0.489 s

--- Measuring Layer 3 Energy (batch of 764 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-763
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 764
      Total energy: 13.313000 J (13313.000 mJ)
      Per-sample energy: 0.017425 J (17.425 mJ)
      Average power: 6.658 W
      Total duration: 1.107 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 167.379250 J (167379.250 mJ)
Average energy per sample: 0.016738 J (16.738 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |    8781 |   0.9887 |        16.597 | 145734.250 |        6.624 |      1.629 |   2.440 |  0.9887 |        16.597 |       0.762
    2 |     455 |   0.8418 |        18.312 |  8332.000 |        6.670 |      1.650 |   2.456 |  0.9815 |        16.681 |       0.777
    3 |     764 |   0.5903 |        17.425 | 13313.000 |        6.658 |      1.642 |   2.456 |  0.9516 |        16.738 |       0.828
  Energy analysis complete for multiplier 1.5
  Calculating accuracy for multiplier 1.5...
       1.5 |       0.956747 |       0.937203 |       0.904245 |     16.738 |    0.952

--- Processing multiplier 2.0 ---
  Running two-phase energy analysis for multiplier 2.0...

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 8908 samples (89.1%)
  Layer 2: 416 samples (4.2%)
  Layer 3: 676 samples (6.8%)

=== Accuracy by Exit Layer ===
  Layer 1: 0.9872 (8794/8908)
  Layer 2: 0.8149 (339/416)
  Layer 3: 0.5710 (386/676)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

--- Measuring Layer 1 Energy (batch of 8908 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 81: samples 8000-8099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 82: samples 8100-8199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 83: samples 8200-8299
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 84: samples 8300-8399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 85: samples 8400-8499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 86: samples 8500-8599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 87: samples 8600-8699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 88: samples 8700-8799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 89: samples 8800-8899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 90: samples 8900-8907
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Results for Layer 1:
      Total samples: 8908
      Total energy: 145.217750 J (145217.750 mJ)
      Per-sample energy: 0.016302 J (16.302 mJ)
      Average power: 6.451 W
      Total duration: 9.586 s

--- Measuring Layer 2 Energy (batch of 416 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-415
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Results for Layer 2:
      Total samples: 416
      Total energy: 8.401500 J (8401.500 mJ)
      Per-sample energy: 0.020196 J (20.196 mJ)
      Average power: 6.724 W
      Total duration: 0.596 s

--- Measuring Layer 3 Energy (batch of 676 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-675
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 676
      Total energy: 10.035500 J (10035.500 mJ)
      Per-sample energy: 0.014845 J (14.845 mJ)
      Average power: 5.700 W
      Total duration: 1.554 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 163.654750 J (163654.750 mJ)
Average energy per sample: 0.016365 J (16.365 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |    8908 |   0.9872 |        16.302 | 145217.750 |        6.451 |      1.600 |   2.372 |  0.9872 |        16.302 |       1.076
    2 |     416 |   0.8149 |        20.196 |  8401.500 |        6.724 |      1.673 |   2.456 |  0.9795 |        16.476 |       1.092
    3 |     676 |   0.5710 |        14.845 | 10035.500 |        5.700 |      1.417 |   2.093 |  0.9519 |        16.365 |       1.174
  Energy analysis complete for multiplier 2.0
  Calculating accuracy for multiplier 2.0...
       2.0 |       0.942361 |       0.916271 |       0.872326 |     16.365 |    0.952

--- Processing multiplier 3.0 ---
  Running two-phase energy analysis for multiplier 3.0...

======================================================================
TWO-PHASE ENERGY ANALYSIS WITH EXIT PATTERN DETECTION
======================================================================

=== Phase 1: Detecting Sample Exit Patterns (Fast) ===
Analyzing exit patterns for 10000 samples...
  Processing sample 0/10000 (0.0%)
  Processing sample 500/10000 (5.0%)
  Processing sample 1000/10000 (10.0%)
  Processing sample 1500/10000 (15.0%)
  Processing sample 2000/10000 (20.0%)
  Processing sample 2500/10000 (25.0%)
  Processing sample 3000/10000 (30.0%)
  Processing sample 3500/10000 (35.0%)
  Processing sample 4000/10000 (40.0%)
  Processing sample 4500/10000 (45.0%)
  Processing sample 5000/10000 (50.0%)
  Processing sample 5500/10000 (55.0%)
  Processing sample 6000/10000 (60.0%)
  Processing sample 6500/10000 (65.0%)
  Processing sample 7000/10000 (70.0%)
  Processing sample 7500/10000 (75.0%)
  Processing sample 8000/10000 (80.0%)
  Processing sample 8500/10000 (85.0%)
  Processing sample 9000/10000 (90.0%)
  Processing sample 9500/10000 (95.0%)

=== Exit Pattern Detection Results ===
  Layer 1: 9093 samples (90.9%)
  Layer 2: 359 samples (3.6%)
  Layer 3: 548 samples (5.5%)

=== Accuracy by Exit Layer ===
  Layer 1: 0.9847 (8954/9093)
  Layer 2: 0.7688 (276/359)
  Layer 3: 0.5383 (295/548)

=== Phase 2: Batch Energy Measurement by Exit Layer ===

--- Measuring Layer 1 Energy (batch of 9093 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-599
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 7: samples 600-699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 8: samples 700-799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 9: samples 800-899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 10: samples 900-999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 11: samples 1000-1099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 12: samples 1100-1199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 13: samples 1200-1299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 14: samples 1300-1399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 15: samples 1400-1499
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 16: samples 1500-1599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 17: samples 1600-1699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 18: samples 1700-1799
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 19: samples 1800-1899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 20: samples 1900-1999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 21: samples 2000-2099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 22: samples 2100-2199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 23: samples 2200-2299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 24: samples 2300-2399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 25: samples 2400-2499
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 26: samples 2500-2599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 27: samples 2600-2699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 28: samples 2700-2799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 29: samples 2800-2899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 30: samples 2900-2999
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 31: samples 3000-3099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 32: samples 3100-3199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 33: samples 3200-3299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 34: samples 3300-3399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 35: samples 3400-3499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 36: samples 3500-3599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 37: samples 3600-3699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 38: samples 3700-3799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 39: samples 3800-3899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 40: samples 3900-3999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 41: samples 4000-4099
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 42: samples 4100-4199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 43: samples 4200-4299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 44: samples 4300-4399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 45: samples 4400-4499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 46: samples 4500-4599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 47: samples 4600-4699
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 48: samples 4700-4799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 49: samples 4800-4899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 50: samples 4900-4999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 51: samples 5000-5099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 52: samples 5100-5199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 53: samples 5200-5299
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 54: samples 5300-5399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 55: samples 5400-5499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 56: samples 5500-5599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 57: samples 5600-5699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 58: samples 5700-5799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 59: samples 5800-5899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 60: samples 5900-5999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 61: samples 6000-6099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 62: samples 6100-6199
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 63: samples 6200-6299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 64: samples 6300-6399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 65: samples 6400-6499
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 66: samples 6500-6599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 67: samples 6600-6699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 68: samples 6700-6799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 69: samples 6800-6899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 70: samples 6900-6999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 71: samples 7000-7099
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 72: samples 7100-7199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 73: samples 7200-7299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 74: samples 7300-7399
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 75: samples 7400-7499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 76: samples 7500-7599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 77: samples 7600-7699
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 78: samples 7700-7799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 79: samples 7800-7899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 80: samples 7900-7999
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 81: samples 8000-8099
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 82: samples 8100-8199
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 83: samples 8200-8299
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 84: samples 8300-8399
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 85: samples 8400-8499
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 86: samples 8500-8599
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 87: samples 8600-8699
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 88: samples 8700-8799
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 89: samples 8800-8899
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 90: samples 8900-8999
      Starting power monitoring for layer 1...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Processing sub-batch 91: samples 9000-9092
      Starting power monitoring for layer 1...
      Power monitoring started successfully
      Stopping power monitoring for layer 1...
      Power monitoring stopped successfully
    Results for Layer 1:
      Total samples: 9093
      Total energy: 130.251000 J (130251.000 mJ)
      Per-sample energy: 0.014324 J (14.324 mJ)
      Average power: 5.725 W
      Total duration: 16.035 s

--- Measuring Layer 2 Energy (batch of 359 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 2...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 2...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-358
      Starting power monitoring for layer 2...
      Power monitoring started successfully
      Stopping power monitoring for layer 2...
      Power monitoring stopped successfully
    Results for Layer 2:
      Total samples: 359
      Total energy: 3.342750 J (3342.750 mJ)
      Per-sample energy: 0.009311 J (9.311 mJ)
      Average power: 2.959 W
      Total duration: 1.216 s

--- Measuring Layer 3 Energy (batch of 548 samples) ---
    Processing sub-batch 1: samples 0-99
      Starting power monitoring for layer 3...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 2: samples 100-199
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 3: samples 200-299
      Starting power monitoring for layer 3...
Warning: Power monitoring thread for client 0 didn't start within timeout
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 4: samples 300-399
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 5: samples 400-499
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Processing sub-batch 6: samples 500-547
      Starting power monitoring for layer 3...
      Power monitoring started successfully
      Stopping power monitoring for layer 3...
      Power monitoring stopped successfully
    Results for Layer 3:
      Total samples: 548
      Total energy: 6.764750 J (6764.750 mJ)
      Per-sample energy: 0.012344 J (12.344 mJ)
      Average power: 4.290 W
      Total duration: 2.162 s

======================================================================
TWO-PHASE ENERGY ANALYSIS RESULTS
======================================================================

=== Overall Energy Statistics ===
Total samples analyzed: 10000
Total energy consumed: 140.358500 J (140358.500 mJ)
Average energy per sample: 0.014036 J (14.036 mJ)

=== Energy Breakdown by Exit Layer ===
Layer | Samples | Accuracy | Per-Sample (mJ) | Total (mJ) | Avg Power (W) | CPU+GPU (W) | SOC (W) | Cum Acc | Cum Energy (mJ) | Cum Time (ms)
---------------------------------------------------------------------------------------------------------------------------------------
    1 |    9093 |   0.9847 |        14.324 | 130251.000 |        5.725 |      1.451 |   2.081 |  0.9847 |        14.324 |       1.763
    2 |     359 |   0.7688 |         9.311 |  3342.750 |        2.959 |      0.742 |   1.088 |  0.9765 |        14.134 |       1.825
    3 |     548 |   0.5383 |        12.344 |  6764.750 |        4.290 |      1.077 |   1.560 |  0.9525 |        14.036 |       1.941
  Energy analysis complete for multiplier 3.0
  Calculating accuracy for multiplier 3.0...
       3.0 |       0.913590 |       0.874407 |       0.808489 |     14.036 |    0.953
--- Creating Energy Visualization ---

--- Creating Energy Visualization ---
Baseline data - Exit distribution: {1: 0, 2: 0, 3: 10000}
Threshold comparison - Number of points: 6
Trade-off data - Multipliers: [0.1, 0.5, 1.0, 1.5, 2.0, 3.0]
Trade-off data - Energies (mJ): ['16.284', '16.553', '16.670', '16.738', '16.365', '14.036']
Trade-off data - Accuracies: ['0.951', '0.951', '0.952', '0.952', '0.952', '0.953']
Energy analysis visualization saved to: /home/jetson/Documents/github/EdgeFF/output/energy_analysis_20251013_174104.png
Energy analysis completed! Check 'output/energy_analysis.png' for detailed results.

=== Analysis Results Summary ===
Energy range: 14.036 - 16.738 mJ
Accuracy range: 0.951 - 0.953
Unique energy values: 6
‚úÖ SUCCESS: Fixed confidence mechanism - now showing 6 different energy levels!
Energy savings potential: 16.1%

=== Energy Analysis Summary ===
Baseline Analysis (Confidence Multiplier = 1.0):
  Total samples analyzed: 10000
  Average energy per sample: 15.683 mJ (0.015683 J)
  Energy standard deviation: 0.000 mJ (0.000000 J)
  Total inference energy: 156833.000 mJ (156.833000 J)

Baseline Early Exit Distribution:
  Layer 1: 0 samples (0.0%)
  Layer 2: 0 samples (0.0%)
  Layer 3: 10000 samples (100.0%)
  Average layers used: 3.00
  Early exit rate: 0.0%

Threshold Comparison Results:
  Tested 6 different confidence multipliers
  Multiplier values: [0.1, 0.5, 1.0, 1.5, 2.0, 3.0]
  Energy range: 14.036 - 16.738 mJ
  Accuracy range: 0.951 - 0.953
